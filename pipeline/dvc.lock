schema: '2.0'
stages:
  infrastruct:
    cmd: UV_LINK_MODE=copy pipx run uv run --python 3.11 --with boto3 --with loguru
      --with omegaconf --with pandas python pipeline infrastruct
    deps:
    - path: pipeline/__init__.py
      hash: md5
      md5: 648d714672929e51fc3f3a55ab727de1
      size: 2690
    - path: pipeline/__main__.py
      hash: md5
      md5: df2c15d54d4eb1f9787b4cec1e7f931e
      size: 3029
    - path: pipeline/stages/infrastruct.py
      hash: md5
      md5: c8ccaf9449176d09afa182911b58b9d1
      size: 1885
      isexec: true
    - path: pipeline/stages/stage.py
      hash: md5
      md5: 2e955e44b4cd315c99767ed32fa6676f
      size: 7335
      isexec: true
    - path: requirements/base.txt
      hash: md5
      md5: a46b3bfbdd8e635ea76a154e08d63fd9
      size: 95
    outs:
    - path: metrics/infrastruct
      hash: md5
      md5: a7f054f8b35c69dca9f3428fb47b7559.dir
      size: 221
      nfiles: 1
  ingest:
    cmd: UV_LINK_MODE=copy pipx run uv run --python 3.11 --with loguru --with matplotlib
      --with omegaconf --with pandas --with pyarrow --with seaborn --with ucimlrepo
      python pipeline ingest
    deps:
    - path: metrics/infrastruct/metrics.json
      hash: md5
      md5: 8c796122005815f2613018ccdf5ff6b5
      size: 221
    - path: pipeline/__init__.py
      hash: md5
      md5: 648d714672929e51fc3f3a55ab727de1
      size: 2690
    - path: pipeline/__main__.py
      hash: md5
      md5: df2c15d54d4eb1f9787b4cec1e7f931e
      size: 3029
    - path: pipeline/stages/ingest.py
      hash: md5
      md5: 970f10590e488a536f122bae8ecb0309
      size: 4597
      isexec: true
    - path: pipeline/stages/stage.py
      hash: md5
      md5: 2e955e44b4cd315c99767ed32fa6676f
      size: 7335
      isexec: true
    outs:
    - path: data/raw
      hash: md5
      md5: a228525264a60039aba05f1ff66dc08f.dir
      size: 17684573
      nfiles: 4
    - path: metrics/ingest
      hash: md5
      md5: 9d0a3935198ca2995d07a5c57a514b38.dir
      size: 4599
      nfiles: 1
    - path: plots/ingest
      hash: md5
      md5: 745ae935bc83e36723e67137f6a8cd82.dir
      size: 76067
      nfiles: 2
  preprocess:
    cmd: UV_LINK_MODE=copy pipx run uv run --python 3.11 --with loguru --with matplotlib
      --with omegaconf --with pandas --with pyarrow --with seaborn python pipeline
      preprocess
    deps:
    - path: data/raw/data.csv
      hash: md5
      md5: 33411fa1536aaaadb24c0c1f2a8598b9
      size: 16246860
    - path: pipeline/__init__.py
      hash: md5
      md5: 648d714672929e51fc3f3a55ab727de1
      size: 2690
    - path: pipeline/__main__.py
      hash: md5
      md5: df2c15d54d4eb1f9787b4cec1e7f931e
      size: 3029
    - path: pipeline/stages/preprocess.py
      hash: md5
      md5: a3d87f80ce2f2e6efdd1ff3ff9f7afb8
      size: 11143
      isexec: true
    - path: pipeline/stages/stage.py
      hash: md5
      md5: 2e955e44b4cd315c99767ed32fa6676f
      size: 7335
      isexec: true
    - path: requirements/base.txt
      hash: md5
      md5: a46b3bfbdd8e635ea76a154e08d63fd9
      size: 95
    outs:
    - path: data/interim/cleaned.parquet
      hash: md5
      md5: 223ea481ba2bb2de4084b7fab860ec52
      size: 1801254
    - path: metrics/preprocess/metrics.json
      hash: md5
      md5: 7ccea857d38f8741bca2bdf05dbe0c2c
      size: 15356
    - path: plots/preprocess/missing_values.png
      hash: md5
      md5: 8299bc862a38c96df00614a25644adaa
      size: 96229
    - path: plots/preprocess/num_lab_procedures_distribution.png
      hash: md5
      md5: 973831ab7572261f64627310dcb37e41
      size: 40225
    - path: plots/preprocess/num_medications_distribution.png
      hash: md5
      md5: 1777e82baefa13289fd018acc6a48cc0
      size: 33649
    - path: plots/preprocess/num_procedures_distribution.png
      hash: md5
      md5: 77b3b48d3a735d4d8c5459dd334da825
      size: 30268
    - path: plots/preprocess/number_diagnoses_distribution.png
      hash: md5
      md5: 97c274f49a356f5ac5062e7f00199a67
      size: 33412
    - path: plots/preprocess/number_emergency_distribution.png
      hash: md5
      md5: 97111c66756a42b40aa2a227dc334a46
      size: 20181
    - path: plots/preprocess/number_inpatient_distribution.png
      hash: md5
      md5: ad90683247d55e1155a8b4f700c40bc8
      size: 27987
    - path: plots/preprocess/number_outpatient_distribution.png
      hash: md5
      md5: dca689a371262a57158200ee0b35c3d5
      size: 19789
    - path: plots/preprocess/readmission_distribution.png
      hash: md5
      md5: 5d1d036dd0f29d7a6486287dadb7184a
      size: 20009
    - path: plots/preprocess/time_in_hospital_distribution.png
      hash: md5
      md5: 656055b0f646b95655808304d76e60fe
      size: 39920
  explore:
    cmd: UV_LINK_MODE=copy pipx run uv run --python 3.11 --with loguru --with matplotlib
      --with omegaconf --with pandas --with pyarrow --with scikit-learn --with scipy
      --with seaborn python pipeline explore
    deps:
    - path: data/interim/cleaned.parquet
      hash: md5
      md5: 223ea481ba2bb2de4084b7fab860ec52
      size: 1801254
    - path: pipeline/__init__.py
      hash: md5
      md5: 648d714672929e51fc3f3a55ab727de1
      size: 2690
    - path: pipeline/__main__.py
      hash: md5
      md5: df2c15d54d4eb1f9787b4cec1e7f931e
      size: 3029
    - path: pipeline/stages/explore.py
      hash: md5
      md5: 8dcdba864c22a3d293a23135f849c037
      size: 18778
      isexec: true
    - path: pipeline/stages/stage.py
      hash: md5
      md5: 2e955e44b4cd315c99767ed32fa6676f
      size: 7335
      isexec: true
    outs:
    - path: metrics/explore/metrics.json
      hash: md5
      md5: 25847d8e87a537aea903c8ebf3ad7339
      size: 656658
    - path: plots/explore/A1Cresult_chi_square.png
      hash: md5
      md5: d517d77cf649f162662e9c06e992afed
      size: 22302
    - path: plots/explore/A1Cresult_distribution.png
      hash: md5
      md5: e4c2f5b4649afa170399fad2b311b14c
      size: 23763
    - path: plots/explore/acarbose_chi_square.png
      hash: md5
      md5: 69852d4b042a402a40939a5eb42deb93
      size: 27016
    - path: plots/explore/acetohexamide_chi_square.png
      hash: md5
      md5: 41224e778c0d0fa5301239c787b91dca
      size: 26257
    - path: plots/explore/age_chi_square.png
      hash: md5
      md5: 6d8dcf2639b7e63d83fb1380429483ca
      size: 27996
    - path: plots/explore/age_distribution.png
      hash: md5
      md5: e02be0708c1317d413e08c47a77f3a19
      size: 29388
    - path: plots/explore/change_chi_square.png
      hash: md5
      md5: 1256e8ab46c3b85e2a4ba2dc1e0f8202
      size: 18633
    - path: plots/explore/chlorpropamide_chi_square.png
      hash: md5
      md5: b88282b4f55411034bbb9d0f532bae60
      size: 27973
    - path: plots/explore/clinical_metrics_boxplot.png
      hash: md5
      md5: b3ceb5c74b1de57dcf9a671d6bf51218
      size: 34086
    - path: plots/explore/clinical_numeric_correlation_heatmap.png
      hash: md5
      md5: 07a609a04511ad51b869a48848afcc22
      size: 48899
    - path: plots/explore/correlation_matrix_heatmap.png
      hash: md5
      md5: bf125da1f27c7b26b65ba2b1f3aecf6c
      size: 103951
    - path: plots/explore/demographics_age_distribution.png
      hash: md5
      md5: d3d38c909b2a4398c3071597cdb4235e
      size: 102609
    - path: plots/explore/diabetesMed_chi_square.png
      hash: md5
      md5: 900fe973828dfda701c1cb5e351e573c
      size: 22779
    - path: plots/explore/diag_1_chi_square.png
      hash: md5
      md5: a5093ee05922535afb2630d30a0d8f4c
      size: 41908
    - path: plots/explore/diag_1_distribution.png
      hash: md5
      md5: 44b1a796bb2b60eb4f226b949eee1634
      size: 43456
    - path: plots/explore/diag_2_chi_square.png
      hash: md5
      md5: f8d4245bba96f80ddda57f3f1033a1aa
      size: 41716
    - path: plots/explore/diag_2_distribution.png
      hash: md5
      md5: 5ee3398d6728c20bef9d74b5706f0994
      size: 43251
    - path: plots/explore/diag_3_chi_square.png
      hash: md5
      md5: 9c8742a8af426f6763198ec3b34a0d46
      size: 41469
    - path: plots/explore/diag_3_distribution.png
      hash: md5
      md5: 382278b2d59834d4f40fcd8eb9ac374c
      size: 42964
    - path: plots/explore/feature_importance.csv
      hash: md5
      md5: a9b94dec066d523935c131a0ccedb5e5
      size: 428
    - path: plots/explore/feature_importance.png
      hash: md5
      md5: c96a217bc8724e4d1e32cbf57554e3f8
      size: 41062
    - path: plots/explore/gender_chi_square.png
      hash: md5
      md5: 5f5432088147f709c05ce9734e944d08
      size: 20596
    - path: plots/explore/gender_distribution.png
      hash: md5
      md5: 592a9902f7311cf74d70ecc86a96b812
      size: 22171
    - path: plots/explore/glimepiride-pioglitazone_chi_square.png
      hash: md5
      md5: ad11e4e038a3627ef42a71e3f01eed75
      size: 28437
    - path: plots/explore/glimepiride_chi_square.png
      hash: md5
      md5: 8bd4dd41ea6e57aad33628ef8a45ebef
      size: 27189
    - path: plots/explore/glipizide-metformin_chi_square.png
      hash: md5
      md5: c0737b8163c1937f03007dd6597b6c81
      size: 26344
    - path: plots/explore/glipizide-metformin_distribution.png
      hash: md5
      md5: 0f928dfe3e290eb93dd7d91f8bbaadf3
      size: 28165
    - path: plots/explore/glipizide_chi_square.png
      hash: md5
      md5: 0355a71e81c34a4c233f33ec207173bd
      size: 25354
    - path: plots/explore/glyburide-metformin_chi_square.png
      hash: md5
      md5: 2115f4eedd11bca60ebf6b3dd5cfce5c
      size: 29396
    - path: plots/explore/glyburide-metformin_distribution.png
      hash: md5
      md5: c446e0a8db469633562af2ddd6629d9d
      size: 30765
    - path: plots/explore/glyburide_chi_square.png
      hash: md5
      md5: 1ad102a9ee13e01347d0598fa229f557
      size: 26955
    - path: plots/explore/glyburide_distribution.png
      hash: md5
      md5: 3b1ae42896f295c6c473ce1c14aab817
      size: 28294
    - path: plots/explore/insulin_chi_square.png
      hash: md5
      md5: 7bbedebf6bc065fc2452a9a8692d72a4
      size: 25042
    - path: plots/explore/insulin_distribution.png
      hash: md5
      md5: 0b2a526ed7aee06b09674a36995b95d7
      size: 26773
    - path: plots/explore/lab_results_distribution.png
      hash: md5
      md5: 5d1c3a2f9088434e716318a71c644f10
      size: 31068
    - path: plots/explore/max_glu_serum_chi_square.png
      hash: md5
      md5: 2ae0e216454675f0212432edc191d83c
      size: 20848
    - path: plots/explore/max_glu_serum_distribution.png
      hash: md5
      md5: f0f0536b1bae298e9a673d7d5fd6c37b
      size: 22227
    - path: plots/explore/medical_specialty_chi_square.png
      hash: md5
      md5: 9ec78afe93f0e462f69e4b0dee70bc33
      size: 165648
    - path: plots/explore/metformin-pioglitazone_chi_square.png
      hash: md5
      md5: 7206ccdd4fea2a276b5cd82faab14a6b
      size: 28006
    - path: plots/explore/metformin-pioglitazone_distribution.png
      hash: md5
      md5: c3e6f8228ab92898b85dc1b829963481
      size: 29620
    - path: plots/explore/metformin-rosiglitazone_distribution.png
      hash: md5
      md5: d10ef02c3d8659c8c4a4710e41e45015
      size: 27404
    - path: plots/explore/metformin_chi_square.png
      hash: md5
      md5: 17310c4f5c18876c41fb3646d8e7e8a8
      size: 25320
    - path: plots/explore/metformin_distribution.png
      hash: md5
      md5: 12b012f86a94e3645a363874280e4ebb
      size: 26847
    - path: plots/explore/miglitol_chi_square.png
      hash: md5
      md5: b2714fb60709e977c1604ed0a9b2408a
      size: 25980
    - path: plots/explore/nateglinide_chi_square.png
      hash: md5
      md5: 073510693e792dbebc60efe69c142d9a
      size: 26913
    - path: plots/explore/payer_code_chi_square.png
      hash: md5
      md5: 80407b6e1c19ec03428dddb2645f8f2f
      size: 33197
    - path: plots/explore/pioglitazone_chi_square.png
      hash: md5
      md5: c225225eabb2de6276a94c4ce77c71d2
      size: 27731
    - path: plots/explore/race_chi_square.png
      hash: md5
      md5: 5c749587715876c83e096f98a7a6e56f
      size: 29833
    - path: plots/explore/race_distribution.png
      hash: md5
      md5: b706984a51a5f95ed1a677bf783dec54
      size: 31213
    - path: plots/explore/repaglinide_chi_square.png
      hash: md5
      md5: 4792fb99f0eb6ab6a9e1e40a73302c4a
      size: 27338
    - path: plots/explore/rosiglitazone_chi_square.png
      hash: md5
      md5: 5ef93cb83132e0791412c8c78cf0d01e
      size: 27956
    - path: plots/explore/service_numeric_correlation_heatmap.png
      hash: md5
      md5: 8f5c365d600d90dcf3927ec726335eb4
      size: 29993
    - path: plots/explore/service_utilization_distribution.png
      hash: md5
      md5: fc5a4b5b5a72c0930b0af7034c596399
      size: 57014
    - path: plots/explore/tolazamide_chi_square.png
      hash: md5
      md5: f2f9e82fdb199bcb82066bda0a71b12b
      size: 25714
    - path: plots/explore/tolbutamide_chi_square.png
      hash: md5
      md5: d9dbe7a803b5dd08aed1f1fd4518e829
      size: 25135
    - path: plots/explore/troglitazone_chi_square.png
      hash: md5
      md5: abb679d7e7c9ac914cf00dc5648bdec2
      size: 25657
  featurize:
    cmd: UV_LINK_MODE=copy pipx run uv run --python 3.11 --with boto3 --with loguru
      --with matplotlib --with omegaconf --with pandas --with pyarrow --with scikit-learn
      --with seaborn python pipeline featurize
    deps:
    - path: data/interim/cleaned.parquet
      hash: md5
      md5: 223ea481ba2bb2de4084b7fab860ec52
      size: 1801254
    - path: pipeline/__init__.py
      hash: md5
      md5: 648d714672929e51fc3f3a55ab727de1
      size: 2690
    - path: pipeline/__main__.py
      hash: md5
      md5: df2c15d54d4eb1f9787b4cec1e7f931e
      size: 3029
    - path: pipeline/stages/featurize.py
      hash: md5
      md5: 9242e9a7bcddb5d71550d9752ee965b0
      size: 21382
      isexec: true
    - path: pipeline/stages/stage.py
      hash: md5
      md5: 2e955e44b4cd315c99767ed32fa6676f
      size: 7335
      isexec: true
    outs:
    - path: data/processed/features.parquet
      hash: md5
      md5: d689a4a6098c1d804a9b5339048b14be
      size: 1378122
    - path: metrics/featurize/metrics.json
      hash: md5
      md5: 22ea06f69c5b92ca13bdc51388418b4d
      size: 1727
    - path: metrics/featurize/statistics.json
      hash: md5
      md5: e9eb5f8626247131a70ee966d9cb2da4
      size: 2690
    - path: plots/featurize/age_distribution.png
      hash: md5
      md5: f9a02dfbd0d3056ea12f5b2809661c7c
      size: 43027
    - path: plots/featurize/age_number_diagnoses_distribution.png
      hash: md5
      md5: 140108805c19626d90dacba25d0d5488
      size: 52748
    - path: plots/featurize/change_num_medications_distribution.png
      hash: md5
      md5: a4fba0f94f7b6023ee089b3de7184b26
      size: 31707
    - path: plots/featurize/feature_correlations.png
      hash: md5
      md5: d31355513f84a0283d597498d28ce1b5
      size: 39905
    - path: plots/featurize/feature_importance.csv
      hash: md5
      md5: d4b3a52916691b5cb63250136e042b19
      size: 853
    - path: plots/featurize/feature_importance.png
      hash: md5
      md5: ccbba58e217e13785dbb09e7e087ea9c
      size: 70426
    - path: plots/featurize/num_medications_distribution.png
      hash: md5
      md5: 6bafd72f7293fd5e25f291672093869b
      size: 37063
    - path: plots/featurize/num_medications_num_lab_procedures_distribution.png
      hash: md5
      md5: a351fb7c08bc4bec9847c5394655629f
      size: 42111
    - path: plots/featurize/num_medications_num_procedures_distribution.png
      hash: md5
      md5: f4873431f0af934c15dbdc56c260c54e
      size: 34087
    - path: plots/featurize/num_medications_number_diagnoses_distribution.png
      hash: md5
      md5: d246b14cd3502bb555f598a7af8cc758
      size: 42032
    - path: plots/featurize/num_medications_numchange_distribution.png
      hash: md5
      md5: d1ef5001e94377255dfdeacb040df1df
      size: 38242
    - path: plots/featurize/num_medications_time_in_hospital_distribution.png
      hash: md5
      md5: b38719563cedbb598188671948e3ab14
      size: 42295
    - path: plots/featurize/num_procedures_distribution.png
      hash: md5
      md5: 04e4852d52940129c9157a68d3b8ea1f
      size: 32825
    - path: plots/featurize/number_diagnoses_time_in_hospital_distribution.png
      hash: md5
      md5: ea69bbc5177eaed7b7b747203cb9158b
      size: 47936
    - path: plots/featurize/readmission_distribution.png
      hash: md5
      md5: 3fdde732f388500e24f43ec4a5206b55
      size: 20232
    - path: plots/featurize/time_in_hospital_distribution.png
      hash: md5
      md5: fdcedaf4627ed012ff22b1807050c3e1
      size: 43601
    - path: plots/featurize/time_in_hospital_num_lab_procedures_distribution.png
      hash: md5
      md5: d08ef5c43299c30e00ae073a559e4e1b
      size: 40918
  feast:
    cmd: UV_LINK_MODE=copy pipx run uv run --python 3.11 --with dask[dataframe] --with
      docker --with feast[postgres] --with loguru --with matplotlib --with omegaconf
      --with pandas --with psycopg2-binary --with pyarrow --with seaborn --with testcontainers
      python pipeline feast
    deps:
    - path: data/processed/features.parquet
      hash: md5
      md5: d689a4a6098c1d804a9b5339048b14be
      size: 1378122
    - path: pipeline/__init__.py
      hash: md5
      md5: 648d714672929e51fc3f3a55ab727de1
      size: 2690
    - path: pipeline/__main__.py
      hash: md5
      md5: df2c15d54d4eb1f9787b4cec1e7f931e
      size: 3029
    - path: pipeline/stages/feast.py
      hash: md5
      md5: 08e5d8718535bd5e7626e06d19a3ff4f
      size: 35226
    - path: pipeline/stages/feature_repo.py
      hash: md5
      md5: fbbd55592e89b4e174d41202e86f6ca4
      size: 7068
    - path: pipeline/stages/stage.py
      hash: md5
      md5: 2e955e44b4cd315c99767ed32fa6676f
      size: 7335
      isexec: true
    outs:
    - path: feature_repo/data_hash.txt
      hash: md5
      md5: 09c26842994b965349f3b0b69bdea89e
      size: 20
    - path: feature_repo/feature_repo.py
      hash: md5
      md5: fbbd55592e89b4e174d41202e86f6ca4
      size: 7068
    - path: feature_repo/feature_store.yaml
      hash: md5
      md5: 63538ccddc0e3762595d6443472c000a
      size: 596
    - path: feature_repo/features.parquet
      hash: md5
      md5: 043969579f477e60efefb91cac8df50b
      size: 1981733
    - path: metrics/feast/metrics.json
      hash: md5
      md5: 956eb70f2ba5c50ef7f3ac0a752a0415
      size: 370
